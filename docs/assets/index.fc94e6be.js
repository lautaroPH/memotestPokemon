var T=Object.defineProperty,V=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var Y=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var F=(t,s,n)=>s in t?T(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,B=(t,s)=>{for(var n in s||(s={}))Y.call(s,n)&&F(t,n,s[n]);if(R)for(var n of R(s))z.call(s,n)&&F(t,n,s[n]);return t},w=(t,s)=>V(t,q(s));import{r,j as b,R as _,a as K}from"./vendor.2cc34144.js";import G from"https://cdn.skypack.dev/canvas-confetti";const J=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerpolicy&&(o.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?o.credentials="include":a.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}};J();const m={EASY:12,MEDIUEM:16,HARD:25},y=r.exports.createContext(m.HARD);const e=b.exports.jsx,c=b.exports.jsxs,$=b.exports.Fragment,Q=()=>{const t=localStorage.getItem("memoBlock")||m.HARD,{setLimit:s}=r.exports.useContext(y);return c("div",{className:"containerHeader",children:[c("h1",{children:[e("span",{className:"red",children:"M"}),e("span",{className:"lime",children:"e"}),e("span",{className:"blue",children:"m"}),e("span",{className:"orange",children:"o"}),e("span",{className:"aquamarine",children:"t"}),e("span",{className:"blueviolet",children:"e"}),e("span",{className:"coral",children:"s"}),e("span",{className:"crimson",children:"t"}),e("span",{children:" "}),e("span",{className:"gold",children:"P"}),e("span",{className:"lawngreen",children:"o"}),e("span",{className:"mediumpurple",children:"k"}),e("span",{className:"orchid",children:"e"}),e("span",{className:"salmon",children:"m"}),e("span",{className:"tomato",children:"o"}),e("span",{className:"violet",children:"n"})]}),c("div",{className:"containerInputSelect",children:[e("p",{children:"Dificultad:"}),e("div",{className:"caja",children:c("select",{defaultValue:t,className:"inputSelect",onChange:l=>{let a=l.target.selectedIndex;const o=l.target.options[a].text,i=l.target.value;localStorage.setItem("difficulty",o),localStorage.setItem("memoBlock",i),s(i)},children:[e("option",{label:"FACIL",value:m.EASY,children:"FACIL"}),e("option",{label:"NORMAL",value:m.MEDIUEM,children:"NORMAL"}),e("option",{label:"DIFICIL",value:m.HARD,children:"DIFICIL"})]})})]})]})},W=t=>{for(let s=t.length-1;s>0;s--){const n=Math.floor(Math.random()*(s+1));[t[s],t[n]]=[t[n],t[s]]}return t},X=async t=>{let s=[];for(let a=0;a<t;a++){const o=Math.floor(Math.random()*898+1),p=await(await fetch(`https://pokeapi.co/api/v2/pokemon/${o}`)).json();s[a]=[p,p]}const n=s.flat(1/0);return W(n)};const Z=({limit:t,fails:s,getPokemons:n})=>c("div",{className:`${t==m.EASY?"footerEasy":t==m.MEDIUEM?"footerMediuem":"footerHard"}`,children:[c("p",{children:["Fallos: ",e("span",{children:s})]}),e("button",{className:"buttonReset",onClick:()=>n(t),children:"Resetear"})]});const ee=()=>e("div",{className:"loader"});const te=({pokemon:t,animating:s,handleMemoClick:n,start:l})=>{var i,p,h,g;const a=(g=(h=(p=(i=t==null?void 0:t.pokemon)==null?void 0:i.sprites)==null?void 0:p.other)==null?void 0:h.home)==null?void 0:g.front_default,o=x=>{!t.flipped&&!s&&(n(x),l())};return e("div",{className:"memo-block",onClick:()=>o(t),children:c("div",{className:`memo-block-inner ${t.flipped&&"memo-block-flipped"}`,children:[e("div",{className:"memo-block-front",children:e("div",{className:"memotestBoxBorderRadiusBig",children:e("div",{className:"memotestBoxBorderRadiusMediuem",children:e("div",{className:"memotestBoxBorderRadiusSmall"})})})}),e("div",{className:"memo-block-back",children:e("img",{className:"pokemonImage",src:a,alt:t.pokemon.name})})," "]})})},se=t=>{if(!t)return"00:00:00";let s=t.getUTCMinutes(),n=t.getSeconds(),l=Math.round(t.getMilliseconds()/10);return s=s<10?"0"+s:s,n=n<10?"0"+n:n,l=l<10?"0"+l:l,`${s}:${n}:${l}`};const ne=({difficulty:t,fails:s,time:n,getPokemons:l,limit:a,isOpenModal:o,setIsOpenModal:i})=>e($,{children:o&&e("div",{onClick:()=>i(!1),className:"overlay",children:c("div",{className:"containerModal",children:[e("div",{className:"headerModal",children:e("h1",{children:"Felicidades"})}),e("button",{onClick:()=>i(!1),className:"buttonClose",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",className:"bi bi-x",viewBox:"0 0 16 16",children:e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"})})}),c("div",{className:"results",children:[c("p",{children:["Has terminado el memotest en la dificultad:"," ",e("span",{children:t})]}),c("p",{children:["Canditad de fallos: ",e("span",{children:s})]}),c("p",{children:["Tiempo que tardaste: ",e("span",{children:se(n)})]})]}),e("div",{className:"containerButtonStartAgain",children:e("button",{onClick:()=>{l(a),i(!1)},children:"Volver a empezar"})})]})})});const ae=()=>{const[t,s]=r.exports.useState([]),[n,l]=r.exports.useState(null),[a,o]=r.exports.useState(!1),[i,p]=r.exports.useState(!0),[h,g]=r.exports.useState(0),[x,L]=r.exports.useState(null),[v,k]=r.exports.useState(null),[N,M]=r.exports.useState(!1),[C,A]=r.exports.useState(0),[H,E]=r.exports.useState(!1),{limit:u}=r.exports.useContext(y),j=localStorage.getItem("difficulty")||"DIFICIL",S=d=>{p(!0),M(!0),X(d).then(I=>{s(I.map((f,U)=>({index:U,pokemon:f,flipped:!1}))),p(!1),l(null),A(0),g(0),L(null),k(null)})},O=d=>{const I=w(B({},d),{flipped:!0});let f=[...t];f.splice(d.index,1,I),s(f),n===null?l(d):n.pokemon.name===d.pokemon.name?(l(null),g(h+1)):(o(!0),setTimeout(()=>{f.splice(d.index,1,d),f.splice(n.index,1,n),s(f),l(null),o(!1),A(C+1)},800))};r.exports.useEffect(()=>{S(u)},[u]);const D=()=>{L(new Date(+new Date-v))},P=()=>{v===null&&(k(+new Date),M(!1))};return r.exports.useEffect(()=>{h==u&&(M(!0),E(!0),g(0),G({particleCount:1e3,startVelocity:60,spread:360}))},[h,u]),r.exports.useEffect(()=>{v&&!N&&requestAnimationFrame(D)},[v,N]),r.exports.useEffect(()=>{x&&!N&&requestAnimationFrame(D)},[x,N]),e($,{children:i?e(ee,{}):c("div",{children:[e("div",{className:`${u==m.EASY?"memotestContainerEasy":u==m.MEDIUEM?"memotestContainerMediuem":"memotestContainer"}`,children:t.map(d=>e(te,{pokemon:d,animating:a,handleMemoClick:O,limit:u,start:P},d.index))}),e(Z,{limit:u,fails:C,getPokemons:S}),e(ne,{difficulty:j,fails:C,time:x,limit:u,getPokemons:S,isOpenModal:H,setIsOpenModal:E})]})})};function le(){const t=localStorage.getItem("memoBlock")||m.HARD,[s,n]=r.exports.useState(t);return e(y.Provider,{value:{limit:s,setLimit:n},children:c("div",{children:[e(Q,{}),e(ae,{})]})})}_.render(e(K.StrictMode,{children:e(le,{})}),document.getElementById("root"));
